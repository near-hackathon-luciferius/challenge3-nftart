(this["webpackJsonphello-react"]=this["webpackJsonphello-react"]||[]).push([[0],{169:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/challenge3-nftart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"nftart.cryptosketches.testnet";e.exports=function(e){switch(e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/challenge3-nftart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},343:function(e,t,n){},344:function(e){e.exports=JSON.parse('{"name":"hello-react","version":"1.0.13","homepage":"https://near-hackathon-luciferius.github.io/challenge3-nftart","private":true,"dependencies":{"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/icons-material":"^5.6.2","@mui/material":"^5.6.2","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","js-sha256":"^0.9.0","materialize-css":"^1.0.0-rc.2","near-api-js":"^0.42.0","nft.storage":"^6.2.0","react":"^17.0.0","react-burger-menu":"^3.0.6","react-dom":"^17.0.0","react-materialize":"^3.10.0","react-native-sha":"^0.1.6","react-router-dom":"^6.3.0","react-scripts":"4.0.3","save":"^2.4.0","save-dev":"^0.0.1-security","styled-components":"^5.2.0","web-vitals":"^1.0.1"},"scripts":{"start":"parcel src/index.html","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build -u \'Pages Bot <pages.bot@nonexisting.io>\'"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3","parcel-bundler":"^1.12.5"}}')},348:function(e,t){},350:function(e,t){},393:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n(8),c=n(0),s=n.n(c),i=n(1),o=n.n(i),l=n(78),d=n.n(l),u=n(33),h=n(11),p=n(108),j=n(107),m=n.n(j),b=n(41),f=n(2);function g(e){var t=e.signIn;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:"NFTArt Homepage"})}),Object(f.jsx)(b.Button,{small:!0,onClick:t,children:"Log in"}),Object(f.jsx)("p",{children:"This app demonstrates how to mint nfts in with the NEAR blockchain. While minting the app will ask you to deposite 0.1 NEAR but it acutally only uses roughly 0.01 NEAR. The remaining NEAR that is not used gets refunded on completing the smart contrat call."}),Object(f.jsx)("p",{children:"Go ahead and sign in to try it out!"})]})}var O=n(10),x=n(165),v=n(166),w=n.n(v),N=n(168),_=n.n(N),y=function(e){return Object(f.jsx)("div",{className:"popup-box",children:Object(f.jsxs)("div",{className:"box",children:[Object(f.jsx)("span",{className:"close-icon",onClick:e.handleClose,children:"x"}),e.content]})})},k=function(e){var t=e.currentUser,n=e.signIn,r=e.signOut,a=e.clearMessage,c=e.message;return Object(f.jsxs)("div",{id:"App",children:[Object(f.jsxs)(x.slide,{pageWrapId:"page-wrapper",outerContainerId:"App",children:[Object(f.jsx)(u.b,{className:"menu-item",to:"/",children:"Dashboard"}),Object(f.jsx)(u.b,{className:"menu-item",to:"/collection",children:"My Collection"}),Object(f.jsx)(u.b,{className:"menu-item",to:"/marketplace",children:"Marketplace"})]}),Object(f.jsx)("main",{id:"page-wrapper",children:Object(f.jsx)(O.a,{})}),t?Object(f.jsx)(b.Button,{onClick:r,floating:!0,large:!0,className:"btn-login",icon:Object(f.jsx)(w.a,{fontSize:"medium"}),tooltip:"Log out "+t.accountId+"."}):Object(f.jsx)(b.Button,{onClick:n,floating:!0,large:!0,className:"btn-login",icon:Object(f.jsx)(_.a,{fontSize:"medium"}),tooltip:"Log in using NEAR wallet."}),c&&Object(f.jsx)(y,{content:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("b",{children:"A message for you"}),Object(f.jsx)("p",{children:c})]}),handleClose:a})]})},T=n(31),E=n(32),I=n(81),C=n(80),S=n.p+"static/media/404.6fa35088.jpg",U=function(e){Object(I.a)(n,e);var t=Object(C.a)(n);function n(){return Object(T.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){return Object(f.jsx)("img",{src:S,alt:"Nothing is here.",width:"900",style:{margin:"10em"}})}}]),n}(o.a.Component),M=U,R=function(e){var t=e.version;e.currentUser;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{children:Object(f.jsxs)("h1",{children:["NEAR Challenge #3 - NFT Art - ",t]})}),Object(f.jsx)("p",{children:"This app demonstrates how to mint nfts in with the NEAR blockchain. While minting the app will ask you to deposite 0.1 NEAR but it acutally only uses roughly 0.01 NEAR. The remaining NEAR that is not used gets refunded on completing the smart contrat call."}),Object(f.jsx)("p",{children:"The basic idea was to create a DeviantArt for the NEAR chain. So everyone can mint their own artworks and through the marketplace they can then buy physical and digital products from the minted NFTs. This includes, but is not limited to, buying rights to use the images on their websites. The information, who has rights could be stored in the metadata of the NFTs. This site yould then provide tools to check whether a specific webpage has the rights to use the artwork."}),Object(f.jsxs)("h5",{children:["Head over to ",Object(f.jsx)(u.b,{className:"menu-item",to:"/collection",children:"your collection"})," to mint you first artwork or go to ",Object(f.jsx)(u.b,{className:"menu-item",to:"/marketplace",children:"the marketplace"})," to discover what others created."]})]})};function A(e){var t=e.onNftMint,n=e.errorMessage;return Object(f.jsx)("form",{onSubmit:t,children:Object(f.jsxs)("fieldset",{id:"fieldset",children:[Object(f.jsx)("p",{children:"Choose an image file below. Accepted are .png and .jpeg images only. The maximum file size is 3MB."}),n&&Object(f.jsxs)("div",{className:"error",children:[" ",n," "]}),Object(f.jsx)("p",{className:"highlight",children:Object(f.jsx)(b.TextInput,{autoComplete:"off",autoFocus:!0,id:"title_prompt",className:"name_input",label:"The title of the image.",required:!0})}),Object(f.jsx)("p",{className:"highlight",children:Object(f.jsx)(b.TextInput,{autoComplete:"off",autoFocus:!0,id:"description_prompt",className:"name_input",label:"A short description of the image.",required:!0})}),Object(f.jsx)("p",{className:"highlight",children:Object(f.jsx)("input",{type:"file",id:"file_chooser"})}),Object(f.jsx)(b.Button,{type:"submit",small:!0,tooltip:"Mints the chosen image as a NFT.",children:"Mint!"})]})})}var F=function(e){var t=e.currentUser,n=e.onNftMint,r=e.errorMessage,c=e.contract,o=Object(i.useState)([]),l=Object(h.a)(o,2),d=l[0],u=l[1];Object(i.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.nft_supply_for_owner({account_id:t.accountId});case 2:return n=e.sent,e.next=5,c.nft_tokens_for_owner({account_id:t.accountId,from_index:"0",limit:parseInt(n)});case 5:r=e.sent,console.log(r),u(p(r,3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[c,t]);var p=function(e,t){for(var n=[],r=0,a=e.length;r<a;)n.push(e.slice(r,r+=t));return n};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{children:Object(f.jsxs)("h1",{children:[t.accountId,"'s Collection"]})}),d.map((function(e){return Object(f.jsx)("div",{className:"row",children:e.map((function(e){return Object(f.jsx)("div",{className:"col s4",children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-image",children:Object(f.jsx)("img",{src:e.metadata.media,alt:e.metadata.title})}),Object(f.jsx)("div",{className:"card-title",children:e.metadata.title}),Object(f.jsx)("div",{className:"card-content",children:Object(f.jsx)("p",{children:e.metadata.description})})]})})}))})})),Object(f.jsx)("h5",{children:"Mint a new NFT below."}),Object(f.jsx)(A,{onNftMint:n,errorMessage:r})]})},D=function(e){var t=e.currentUser,n=e.contract,r=Object(i.useState)([]),c=Object(h.a)(r,2),o=c[0],l=c[1];Object(i.useEffect)((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.nft_total_supply();case 2:return t=e.sent,e.next=5,n.nft_tokens({from_index:"0",limit:parseInt(t)});case 5:r=e.sent,console.log(r),l(d(r,3));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,t]);var d=function(e,t){for(var n=[],r=0,a=e.length;r<a;)n.push(e.slice(r,r+=t));return n};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("header",{children:Object(f.jsx)("h1",{children:"All NFTs that where minted."})}),o.map((function(e){return Object(f.jsx)("div",{className:"row",children:e.map((function(e){return Object(f.jsx)("div",{className:"col s4",children:Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("div",{className:"card-image",children:Object(f.jsx)("img",{src:e.metadata.media,alt:e.metadata.title})}),Object(f.jsx)("div",{className:"card-title",children:e.metadata.title}),Object(f.jsx)("div",{className:"card-content",children:Object(f.jsx)("p",{children:e.metadata.description})})]})})}))})}))]})},W=(n(342),n(343),n(344).version);n(345);var z=m()(3).times(Math.pow(10,13)).toFixed(),B=["png","jpg","jpeg"],H=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,c=e.wallet,o=(e.provider,e.lastTransaction),l=e.error,d=Object(i.useState)(""),u=Object(h.a)(d,2),j=u[0],b=u[1],x=Object(i.useState)(""),v=Object(h.a)(x,2),w=v[0],N=v[1],_=function(){var e=Object(a.a)(s.a.mark((function e(r){var a,c,i,o,l,d,u,h,j,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=r.target.elements,c=a.fieldset,i=a.file_chooser,o=a.title_prompt,l=a.description_prompt,c.disabled=!0,b(""),d=i.files[0]){e.next=9;break}return b("No file was chosen."),c.disabled=!1,e.abrupt("return");case 9:if(u=d.name.split(".").pop().toLowerCase(),B.includes(u)){e.next=15;break}return b("Must upload a file of type: ".concat(B.join(" or "))),c.disabled=!1,e.abrupt("return");case 15:if(3145728,!(d.size>3145728)){e.next=20;break}return b("File size must be less than ".concat(3," MB.")),c.disabled=!1,e.abrupt("return");case 20:return e.next=22,d.arrayBuffer();case 22:return h=e.sent,j=d.type,e.next=26,T(new p.a([h],d.name,{mime:j}),o.value,l.value);case 26:f=e.sent,g=f.data.image.href.replace("ipfs://","https://ipfs.io/ipfs/"),t.nft_mint({token_owner_id:n.accountId,token_metadata:{title:o.value,description:l.value,media:g,media_hash:"RTBEMDBDNjZGODk1RTlEOEEyMTQzNjUyRjlCMUJGNEQ1MEU2NjQxNEM0RUI5NDQzMzdGRTcwMTk5NDFEMjkzQQ==",copies:1,issued_at:Date.now().toString()}},z,m()("0.1").times(Math.pow(10,24)).toFixed()).then((function(e){c.disabled=!1,o.value="",l.value="",o.focus()}));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){l?N(decodeURI(l)):o&&N("Successfully minted the NFT in transaction ".concat(o)),window.history.pushState({},"",window.location.origin+window.location.pathname)}),[o,l]);var y=function(){c.requestSignIn({contractId:r.contractName,methodNames:[t.nft_mint.name]},"NEAR Challenge #3 - NFT Art",null,null)},T=function(){var e=Object(a.a)(s.a.mark((function e(t,n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.b({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDc2NjhmOTg1OUYxYjZGNTRkRjk0YUMyM2U4RDk4OTE1QkQyQTg2MTciLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY1MDUxNTU2NTA1MywibmFtZSI6Im5mdF9taW50In0.95zdADQVUy5zLpoe1kGV_ZiNvH2vlFIvC-h3CsMJEO8"}),e.abrupt("return",a.store({image:t,name:n,description:r}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(f.jsx)(O.d,{children:Object(f.jsxs)(O.b,{path:"/",element:Object(f.jsx)(k,{currentUser:n,signIn:y,signOut:function(){c.signOut(),window.location.replace(window.location.origin+window.location.pathname)},clearMessage:function(){N("")},message:w}),children:[Object(f.jsx)(O.b,{index:!0,element:n?Object(f.jsx)(R,{version:W,currentUser:n}):Object(f.jsx)(g,{signIn:y})}),Object(f.jsx)(O.b,{path:"collection",element:n?Object(f.jsx)(F,{onNftMint:_,currentUser:n,errorMessage:j,contract:t}):Object(f.jsx)(g,{signIn:y})}),Object(f.jsx)(O.b,{path:"marketplace",element:n?Object(f.jsx)(D,{currentUser:n,contract:t}):Object(f.jsx)(g,{signIn:y})}),Object(f.jsx)(O.b,{path:"*",element:Object(f.jsx)(M,{})})]})})},L=n(169),P=n.n(L),J=n(64);function Q(){return(Q=Object(a.a)(s.a.mark((function e(){var t,n,a,c,i,o,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=P()(Object({NODE_ENV:"production",PUBLIC_URL:"/challenge3-nftart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_ENV||"testnet"),n=new J.keyStores.BrowserLocalStorageKeyStore,e.next=4,J.connect(Object(r.a)({keyStore:n},t));case 4:if(a=e.sent,!(c=new J.WalletConnection(a)).getAccountId()){e.next=12;break}return e.t0=c.getAccountId(),e.next=10,c.account().state();case 10:e.t1=e.sent.amount,i={accountId:e.t0,balance:e.t1};case 12:return e.next=14,new J.Contract(c.account(),t.contractName,{viewMethods:["nft_supply_for_owner","nft_tokens_for_owner","nft_total_supply","nft_tokens"],changeMethods:["nft_mint"],sender:c.getAccountId()});case 14:return o=e.sent,l=a.connection.provider,e.abrupt("return",{contract:o,currentUser:i,nearConfig:t,walletConnection:c,provider:l});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return Q.apply(this,arguments)}().then((function(e){var t,n,r=e.contract,a=e.currentUser,c=e.nearConfig,s=e.walletConnection,i=e.provider,o=new URLSearchParams(window.location.search);o.has("transactionHashes")&&(t=o.get("transactionHashes")),o.has("errorMessage")&&(n=o.get("errorMessage")),d.a.render(Object(f.jsx)(u.a,{children:Object(f.jsx)(H,{contract:r,currentUser:a,nearConfig:c,wallet:s,lastTransaction:t,provider:i,error:n})}),document.getElementById("root"))}))}},[[393,1,2]]]);
//# sourceMappingURL=main.32169b47.chunk.js.map