(this["webpackJsonphello-react"]=this["webpackJsonphello-react"]||[]).push([[0],{169:function(e,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"/challenge3-nftart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CONTRACT_NAME||"nftart.cryptosketches.testnet";e.exports=function(e){switch(e){case"production":case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};case"betanet":return{networkId:"betanet",nodeUrl:"https://rpc.betanet.near.org",contractName:n,walletUrl:"https://wallet.betanet.near.org",helperUrl:"https://helper.betanet.near.org"};case"local":return{networkId:"local",nodeUrl:"http://localhost:3030",keyPath:"".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/challenge3-nftart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).HOME,"/.near/validator_key.json"),walletUrl:"http://localhost:4000/wallet",contractName:n};case"test":case"ci":return{networkId:"shared-test",nodeUrl:"https://rpc.ci-testnet.near.org",contractName:n,masterAccount:"test.near"};case"ci-betanet":return{networkId:"shared-test-staging",nodeUrl:"https://rpc.ci-betanet.near.org",contractName:n,masterAccount:"test.near"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},343:function(e,t,n){},344:function(e){e.exports=JSON.parse('{"name":"hello-react","version":"1.0.11","homepage":"https://near-hackathon-luciferius.github.io/challenge3-nftart","private":true,"dependencies":{"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/icons-material":"^5.6.2","@mui/material":"^5.6.2","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","js-sha256":"^0.9.0","materialize-css":"^1.0.0-rc.2","near-api-js":"^0.42.0","nft.storage":"^6.2.0","react":"^17.0.0","react-burger-menu":"^3.0.6","react-dom":"^17.0.0","react-materialize":"^3.10.0","react-native-sha":"^0.1.6","react-router-dom":"^6.3.0","react-scripts":"4.0.3","save":"^2.4.0","save-dev":"^0.0.1-security","styled-components":"^5.2.0","web-vitals":"^1.0.1"},"scripts":{"start":"parcel src/index.html","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build -u \'Pages Bot <pages.bot@nonexisting.io>\'"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"gh-pages":"^3.2.3","parcel-bundler":"^1.12.5"}}')},348:function(e,t){},350:function(e,t){},393:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n(8),c=n(0),o=n.n(c),s=n(1),i=n.n(s),l=n(78),u=n.n(l),p=n(27),d=n(11),h=n(108),m=n(107),j=n.n(m),b=n(2);function g(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("p",{children:"This app demonstrates a key element of NEAR\u2019s UX: once an app has permission to make calls on behalf of a user (that is, once a user signs in), the app can make calls to the blockchain for them without prompting extra confirmation. So you\u2019ll see that if you use the hello button, you will get a response right away."}),Object(b.jsx)("p",{children:"But if you do use the remember me button, then NEAR will double-check that you\u2019re ok with sending money to this app for remebering the name."}),Object(b.jsx)("p",{children:"Go ahead and sign in to try it out!"})]})}var f=n(10),O=n(165),x=n(49),v=n(166),w=n.n(v),N=n(168),y=n.n(N),k=function(e){var t=e.currentUser,n=e.signIn,r=e.signOut;return Object(b.jsxs)("div",{id:"App",children:[Object(b.jsxs)(O.slide,{pageWrapId:"page-wrapper",outerContainerId:"App",children:[Object(b.jsx)(p.b,{className:"menu-item",to:"/",children:"Dashboard"}),Object(b.jsx)(p.b,{className:"menu-item",to:"/collection",children:"My Collection"}),Object(b.jsx)(p.b,{className:"menu-item",to:"/marketplace",children:"Discover"}),Object(b.jsx)(p.b,{className:"menu-item",to:"/docs",children:"Docs"})]}),Object(b.jsx)("main",{id:"page-wrapper",children:Object(b.jsx)(f.a,{})}),t?Object(b.jsx)(x.Button,{onClick:r,floating:!0,large:!0,className:"btn-login",icon:Object(b.jsx)(w.a,{fontSize:"medium"}),tooltip:"Log out "+t.accountId+"."}):Object(b.jsx)(x.Button,{onClick:n,floating:!0,large:!0,className:"btn-login",icon:Object(b.jsx)(y.a,{fontSize:"medium"}),tooltip:"Log in using NEAR wallet."})]})},_=n(32),T=n(33),C=n(81),E=n(80),U=n.p+"static/media/404.6fa35088.jpg",I=function(e){Object(C.a)(n,e);var t=Object(E.a)(n);function n(){return Object(_.a)(this,n),t.apply(this,arguments)}return Object(T.a)(n,[{key:"render",value:function(){return Object(b.jsx)("img",{src:U,alt:"Nothing is here.",width:"900",style:{margin:"10em"}})}}]),n}(i.a.Component),S=I,M=function(e){var t=e.version;e.currentUser;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:Object(b.jsxs)("h1",{children:["NEAR Challenge #3 - NFT Art - ",t]})}),Object(b.jsxs)("h5",{children:["Head over to ",Object(b.jsx)(p.b,{className:"menu-item",to:"/collection",children:"your collection"}),"to mint you first artwork or go to ",Object(b.jsx)(p.b,{className:"menu-item",to:"/marketplace",children:"the marketplace"})," to discover what others created."]})]})};function R(e){var t=e.onNftMint,n=e.errorMessage;return Object(b.jsx)("form",{onSubmit:t,children:Object(b.jsxs)("fieldset",{id:"fieldset",children:[Object(b.jsx)("p",{children:"Choose an image file below. Accepted are .png and .jpeg images only. The maximum file size is 3MB."}),n&&Object(b.jsxs)("div",{className:"error",children:[" ",n," "]}),Object(b.jsx)("p",{className:"highlight",children:Object(b.jsx)(x.TextInput,{autoComplete:"off",autoFocus:!0,id:"title_prompt",className:"name_input",label:"The title of the image.",required:!0})}),Object(b.jsx)("p",{className:"highlight",children:Object(b.jsx)(x.TextInput,{autoComplete:"off",autoFocus:!0,id:"description_prompt",className:"name_input",label:"A short description of the image.",required:!0})}),Object(b.jsx)("p",{className:"highlight",children:Object(b.jsx)("input",{type:"file",id:"file_chooser"})}),Object(b.jsx)(x.Button,{type:"submit",small:!0,tooltip:"Mints the chosen image as a NFT.",children:"Mint!"})]})})}var A=function(e){var t=e.currentUser,n=e.onNftMint,r=e.errorMessage;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:Object(b.jsxs)("h1",{children:[t.accountId,"'s Collection"]})}),Object(b.jsx)("h5",{children:"Mint a new NFT below."}),Object(b.jsx)(R,{onNftMint:n,errorMessage:r})]})},D=(n(342),n(343),n(344).version);n(345);var F=j()(3).times(Math.pow(10,13)).toFixed(),z=["png","jpg","jpeg"],B=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,c=e.wallet,i=(e.provider,Object(s.useState)("")),l=Object(d.a)(i,2),u=l[0],p=l[1],m=function(){var e=Object(a.a)(o.a.mark((function e(r){var a,c,s,i,l,u,d,m,b,g,f;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),a=r.target.elements,c=a.fieldset,s=a.file_chooser,i=a.title_prompt,l=a.description_prompt,c.disabled=!0,p(""),u=s.files[0]){e.next=9;break}return p("No file was chosen."),c.disabled=!1,e.abrupt("return");case 9:if(d=u.name.split(".").pop().toLowerCase(),z.includes(d)){e.next=15;break}return p("Must upload a file of type: ".concat(z.join(" or "))),c.disabled=!1,e.abrupt("return");case 15:if(3145728,!(u.size>3145728)){e.next=20;break}return p("File size must be less than ".concat(3," MB.")),c.disabled=!1,e.abrupt("return");case 20:return e.next=22,u.arrayBuffer();case 22:return m=e.sent,b=u.type,e.next=26,O(new h.a([m],u.name,{mime:b}),i.value,l.value);case 26:g=e.sent,f=g.data.image.href.replace("ipfs://","https://ipfs.io/ipfs/"),console.log(f),t.nft_mint({token_owner_id:n.accountId,token_metadata:{title:i.value,description:l.value,media:f,media_hash:"RTBEMDBDNjZGODk1RTlEOEEyMTQzNjUyRjlCMUJGNEQ1MEU2NjQxNEM0RUI5NDQzMzdGRTcwMTk5NDFEMjkzQQ==",copies:1,issued_at:Date.now().toString()}},F,j()("0.1").times(Math.pow(10,24)).toFixed()).then((function(e){c.disabled=!1,i.value="",l.value="",i.focus()}));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.b({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDc2NjhmOTg1OUYxYjZGNTRkRjk0YUMyM2U4RDk4OTE1QkQyQTg2MTciLCJpc3MiOiJuZnQtc3RvcmFnZSIsImlhdCI6MTY1MDUxNTU2NTA1MywibmFtZSI6Im5mdF9taW50In0.95zdADQVUy5zLpoe1kGV_ZiNvH2vlFIvC-h3CsMJEO8"}),e.abrupt("return",a.store({image:t,name:n,description:r}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return Object(b.jsx)(f.d,{children:Object(b.jsxs)(f.b,{path:"/",element:Object(b.jsx)(k,{currentUser:n,signIn:function(){c.requestSignIn({contractId:r.contractName,methodNames:[t.hello.name]},"NEAR Challenge #3 - NFT Art",null,null)},signOut:function(){c.signOut(),window.location.replace(window.location.origin+window.location.pathname)}}),children:[Object(b.jsx)(f.b,{index:!0,element:n?Object(b.jsx)(M,{version:D,currentUser:n}):Object(b.jsx)(g,{})}),Object(b.jsx)(f.b,{path:"collection",element:n?Object(b.jsx)(A,{onNftMint:m,currentUser:n,errorMessage:u}):Object(b.jsx)(g,{})}),Object(b.jsx)(f.b,{path:"*",element:Object(b.jsx)(S,{})})]})})},W=n(169),H=n.n(W),J=n(64);function L(){return(L=Object(a.a)(o.a.mark((function e(){var t,n,a,c,s,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=H()(Object({NODE_ENV:"production",PUBLIC_URL:"/challenge3-nftart",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).NEAR_ENV||"testnet"),n=new J.keyStores.BrowserLocalStorageKeyStore,e.next=4,J.connect(Object(r.a)({keyStore:n},t));case 4:if(a=e.sent,!(c=new J.WalletConnection(a)).getAccountId()){e.next=12;break}return e.t0=c.getAccountId(),e.next=10,c.account().state();case 10:e.t1=e.sent.amount,s={accountId:e.t0,balance:e.t1};case 12:return e.next=14,new J.Contract(c.account(),t.contractName,{viewMethods:[],changeMethods:["nft_mint"],sender:c.getAccountId()});case 14:return i=e.sent,l=a.connection.provider,e.abrupt("return",{contract:i,currentUser:s,nearConfig:t,walletConnection:c,provider:l});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return L.apply(this,arguments)}().then((function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,a=e.walletConnection,c=e.provider;u.a.render(Object(b.jsx)(p.a,{children:Object(b.jsx)(B,{contract:t,currentUser:n,nearConfig:r,wallet:a,provider:c})}),document.getElementById("root"))}))}},[[393,1,2]]]);
//# sourceMappingURL=main.1df2b302.chunk.js.map